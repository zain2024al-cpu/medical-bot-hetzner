# ๐ ููุฎุต ุฅุตูุงุญ ุฃููุงุน ุงูุฅุฌุฑุงุกุงุช

## โ ุงููุดุงูู ุงูุชู ุชู ุฅุตูุงุญูุง:

### 1. **ูุณุงุฑ "ุฎุฑูุฌ ูู ุงููุณุชุดูู" (discharge)**
   - **ุงููุดููุฉ:** ูุงู ูุธูุฑ "ูุฑุงุฑ ุงูุทุจูุจ:" ูุงุฑุบ ุจุนุฏ ุงููุดุฑ
   - **ุงูุญู:**
     - โ ุฅุถุงูุฉ `'ููุฎุต ุงูุฑููุฏ:'` ุฅูู ุงููููุงุช ุงูููุชุงุญูุฉ ูู `broadcast_service.py`
     - โ ุฅุถุงูุฉ `'ุฎุฑูุฌ ูู ุงููุณุชุดูู'` ุฅูู ูุงุฆูุฉ ุงูุฃููุงุน ุงูุฎุงุตุฉ (ูุง ุชุญุชูู ุนูู "ูุฑุงุฑ ุงูุทุจูุจ")
   - **ุงูุญููู:**
     - ุฅุฐุง ูุงู `discharge_type == "admission"`: `ููุฎุต ุงูุฑููุฏ: [ุงูููุฎุต]`
     - ุฅุฐุง ูุงู `discharge_type == "operation"`: `ุชูุงุตูู ุงูุนูููุฉ: [ุงูุชูุงุตูู]` + `ุงุณู ุงูุนูููุฉ ุจุงูุฅูุฌููุฒู: [ุงูุงุณู]`

### 2. **ูุณุงุฑ "ุชุฃุฌูู ููุนุฏ" (appointment_reschedule)**
   - **ุงููุดููุฉ:** ูุงู ูุธูุฑ ูุชูุฑูุฑ ุฌุฏูุฏ ูุน ุญููู ุฎุงุทุฆุฉ
   - **ุงูุญู:**
     - โ ุฅุถุงูุฉ `'ุณุจุจ ุชุฃุฌูู ุงูููุนุฏ:'` ู `'ุชุงุฑูุฎ ุงูุนูุฏุฉ ุงูุฌุฏูุฏ:'` ู `'ุณุจุจ ุงูุนูุฏุฉ:'` ุฅูู ุงููููุงุช ุงูููุชุงุญูุฉ
     - โ ุฅุถุงูุฉ `'ุชุฃุฌูู ููุนุฏ'` ุฅูู ูุงุฆูุฉ ุงูุฃููุงุน ุงูุฎุงุตุฉ
   - **ุงูุญููู:**
     - `ุณุจุจ ุชุฃุฌูู ุงูููุนุฏ: [ุงูุณุจุจ]`
     - `ุชุงุฑูุฎ ุงูุนูุฏุฉ ุงูุฌุฏูุฏ: [ุงูุชุงุฑูุฎ]`
     - `ุณุจุจ ุงูุนูุฏุฉ: [ุงูุณุจุจ]`

### 3. **ุฅุถุงูุฉ ูููุงุช ููุชุงุญูุฉ ุฅุถุงููุฉ:**
   - โ `'ุงูุชุดุฎูุต ุงูููุงุฆู:'` - ููุณุงุฑ "ุงุณุชุดุงุฑุฉ ุฃุฎูุฑุฉ"
   - โ `'ุงูุชูุตูุงุช ุงูุทุจูุฉ:'` - ููุณุงุฑ "ุงุณุชุดุงุฑุฉ ุฃุฎูุฑุฉ"
   - โ `'ูุถุน ุงูุญุงูุฉ:'` - ููุณุงุฑ "ุทูุงุฑุฆ"

---

## ๐ ุฌููุน ุฃููุงุน ุงูุฅุฌุฑุงุกุงุช ูุงูุชุญูู ูููุง:

### โ **1. ุงุณุชุดุงุฑุฉ ุฌุฏูุฏุฉ (new_consult)**
   - ุงูุญููู: `ุงูุชุดุฎูุต:` + `ูุฑุงุฑ ุงูุทุจูุจ:` + `ุงููุญูุตุงุช ุงููุทููุจุฉ:`
   - โ ุงููููุงุช ุงูููุชุงุญูุฉ ููุฌูุฏุฉ

### โ **2. ูุชุงุจุนุฉ ูู ุงูุฑููุฏ (followup)**
   - ุงูุญููู: `ุงูุชุดุฎูุต:` + `ูุฑุงุฑ ุงูุทุจูุจ:`
   - โ ุงููููุงุช ุงูููุชุงุญูุฉ ููุฌูุฏุฉ

### โ **3. ุทูุงุฑุฆ (emergency)**
   - ุงูุญููู: `ุงูุชุดุฎูุต:` + `ูุฑุงุฑ ุงูุทุจูุจ:` + `ูุถุน ุงูุญุงูุฉ:`
   - โ ุงููููุงุช ุงูููุชุงุญูุฉ ููุฌูุฏุฉ

### โ **4. ุชุฑููุฏ (admission)**
   - ุงูุญููู: `ุณุจุจ ุงูุฑููุฏ:` + `ุฑูู ุงูุบุฑูุฉ:` + `ููุงุญุธุงุช:`
   - โ ุงููููุงุช ุงูููุชุงุญูุฉ ููุฌูุฏุฉ

### โ **5. ุนูููุฉ (operation)**
   - ุงูุญููู: `ุชูุงุตูู ุงูุนูููุฉ:` + `ุงุณู ุงูุนูููุฉ ุจุงูุฅูุฌููุฒู:` + `ููุงุญุธุงุช:`
   - โ ุงููููุงุช ุงูููุชุงุญูุฉ ููุฌูุฏุฉ

### โ **6. ุงุณุชุดุงุฑุฉ ูุน ูุฑุงุฑ ุนูููุฉ (surgery_consult)**
   - **ุนุฑุถ ุฎุงุต:** ูุนุฑุถ ุงูุญููู ุจุดูู ูููุตู (ููุณ ูู `doctor_decision`)
   - ุงูุญููู: `ุงูุชุดุฎูุต:` + `ูุฑุงุฑ ุงูุทุจูุจ:` + `ุงุณู ุงูุนูููุฉ ุจุงูุฅูุฌููุฒู:` + `ูุณุจุฉ ูุฌุงุญ ุงูุนูููุฉ:` + `ูุณุจุฉ ุงูุงุณุชูุงุฏุฉ:` + `ุงููุญูุตุงุช ุงููุทููุจุฉ:`
   - โ ูุนุงูุฌุฉ ุฎุงุตุฉ ูู `broadcast_service.py` (ุงูุณุทูุฑ 203-226)

### โ **7. ุงุณุชุดุงุฑุฉ ุฃุฎูุฑุฉ (final_consult)**
   - ุงูุญููู: `ุงูุชุดุฎูุต ุงูููุงุฆู:` + `ูุฑุงุฑ ุงูุทุจูุจ:` + `ุงูุชูุตูุงุช ุงูุทุจูุฉ:`
   - โ ุงููููุงุช ุงูููุชุงุญูุฉ ููุฌูุฏุฉ (ุชู ุฅุถุงูุชูุง)

### โ **8. ุฎุฑูุฌ ูู ุงููุณุชุดูู (discharge)**
   - **ููุน ุฎุงุต:** ูุง ูุญุชูู ุนูู "ูุฑุงุฑ ุงูุทุจูุจ"
   - ุฅุฐุง ูุงู `discharge_type == "admission"`: `ููุฎุต ุงูุฑููุฏ: [ุงูููุฎุต]`
   - ุฅุฐุง ูุงู `discharge_type == "operation"`: `ุชูุงุตูู ุงูุนูููุฉ: [ุงูุชูุงุตูู]` + `ุงุณู ุงูุนูููุฉ ุจุงูุฅูุฌููุฒู: [ุงูุงุณู]`
   - โ ุงููููุงุช ุงูููุชุงุญูุฉ ููุฌูุฏุฉ (ุชู ุฅุถุงูุชูุง)
   - โ ูู ูุงุฆูุฉ ุงูุฃููุงุน ุงูุฎุงุตุฉ

### โ **9. ุนูุงุฌ ุทุจูุนู (rehab_physical)**
   - **ููุน ุฎุงุต:** ูุง ูุญุชูู ุนูู "ูุฑุงุฑ ุงูุทุจูุจ"
   - ุงูุญููู: `ุชูุงุตูู ุงูุฌูุณุฉ: [ุงูุชูุงุตูู]`
   - โ ุงููููุงุช ุงูููุชุงุญูุฉ ููุฌูุฏุฉ
   - โ ูู ูุงุฆูุฉ ุงูุฃููุงุน ุงูุฎุงุตุฉ

### โ **10. ุฃุฌูุฒุฉ ุชุนููุถูุฉ (rehab_device)**
   - **ููุน ุฎุงุต:** ูุง ูุญุชูู ุนูู "ูุฑุงุฑ ุงูุทุจูุจ"
   - ุงูุญููู: `ุชูุงุตูู ุงูุฌูุงุฒ: [ุงูุชูุงุตูู]`
   - โ ุงููููุงุช ุงูููุชุงุญูุฉ ููุฌูุฏุฉ
   - โ ูู ูุงุฆูุฉ ุงูุฃููุงุน ุงูุฎุงุตุฉ

### โ **11. ุฃุดุนุฉ ููุญูุตุงุช (radiology)**
   - **ููุน ุฎุงุต:** ูุง ูุญุชูู ุนูู "ูุฑุงุฑ ุงูุทุจูุจ"
   - ุงูุญููู: `ููุน ุงูุฃุดุนุฉ ูุงููุญูุตุงุช: [ุงูููุน]`
   - โ ุงููููุงุช ุงูููุชุงุญูุฉ ููุฌูุฏุฉ
   - โ ูู ูุงุฆูุฉ ุงูุฃููุงุน ุงูุฎุงุตุฉ

### โ **12. ุชุฃุฌูู ููุนุฏ (appointment_reschedule)**
   - **ููุน ุฎุงุต:** ูุง ูุญุชูู ุนูู "ูุฑุงุฑ ุงูุทุจูุจ"
   - ุงูุญููู: `ุณุจุจ ุชุฃุฌูู ุงูููุนุฏ:` + `ุชุงุฑูุฎ ุงูุนูุฏุฉ ุงูุฌุฏูุฏ:` + `ุณุจุจ ุงูุนูุฏุฉ:`
   - โ ุงููููุงุช ุงูููุชุงุญูุฉ ููุฌูุฏุฉ (ุชู ุฅุถุงูุชูุง)
   - โ ูู ูุงุฆูุฉ ุงูุฃููุงุน ุงูุฎุงุตุฉ

---

## ๐ ุงููููุงุช ุงููุนุฏูุฉ:

1. **`real_bot_final/services/broadcast_service.py`**
   - ุฅุถุงูุฉ ูููุงุช ููุชุงุญูุฉ ุฌุฏูุฏุฉ
   - ุฅุถุงูุฉ "ุฎุฑูุฌ ูู ุงููุณุชุดูู" ู "ุชุฃุฌูู ููุนุฏ" ุฅูู ูุงุฆูุฉ ุงูุฃููุงุน ุงูุฎุงุตุฉ

2. **`real_bot_final/bot/handlers/user/user_reports_add_new_system/flows/shared.py`**
   - ุฅุถุงูุฉ ูุนุงูุฌุฉ ุฎุงุตุฉ ููุณุงุฑ "ุชุฃุฌูู ููุนุฏ" ูู `save_report_to_database`
   - ุฅุถุงูุฉ "appointment_reschedule" ุฅูู `valid_flow_types` ู `action_names`

---

## โ ุงููุชูุฌุฉ:

ุฌููุน ุฃููุงุน ุงูุฅุฌุฑุงุกุงุช ุงูุขู:
- โ ูุง ุชุธูุฑ ุญููู ูุงุฑุบุฉ
- โ ูุง ุชุธูุฑ "ูุฑุงุฑ ุงูุทุจูุจ:" ููุฃููุงุน ุงูุชู ูุง ุชุญุชุงุฌูุง
- โ ุชุนุฑุถ ุงูุญููู ุงูุตุญูุญุฉ ููู ููุน ุฅุฌุฑุงุก
- โ ูุง ุชูุฌุฏ ุชุนุงุฑุถุงุช ุจูู ุงูุฃููุงุน ุงููุฎุชููุฉ





